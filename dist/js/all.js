"use strict";const domElements=()=>{const e=document.querySelector(".nav__list"),t=document.getElementById("nav-menu");return{navList:e,navMenu:t,closeMobMenu:()=>{t&&t.classList.remove("show")}}};let{navList:navList,navMenu:navMenu,closeMobMenu:closeMobMenu}=domElements();class NavLinks{getLinks=async()=>{try{const e=await fetch("/data/nav-data/navlinks.json");return await e.json()}catch(e){console.error(e)}};displayLinks=e=>{let t="";e.forEach((e=>{t+=`\n                <li class="nav__item">\n                    <a href="${e.link}" class="nav__link" onclick="closeMobMenu()">${e.text}</a>\n                </li>\n            `})),navList&&navList.insertAdjacentHTML("beforeend",t)}}(async()=>{const e=new NavLinks,t=await e.getLinks();e.displayLinks(t)})();class ShopBoots{async getShopBoots(){try{const e=await fetch("data/shop-data/shop.json"),t=await e.json();return t}catch(e){console.log(e)}}}class Shop{displayShopBoots(e){let t="";e.forEach((e=>{t+=`\n                <article class="boot">\n                    <img src="${e.image}" alt="sale boot" class="boot__img">\n                    <div class="boot__data">\n                        <h4 class="boot__name">${e.name}</h4>\n                        <span class="boot__price">${e.price}</span>\n                        <p class="boot__description">\n                            The embodiment of iconic <br/> Dr Martens Footwear   \n                        </p>\n                        <button class="button-light">\n                            Add to cart <img src="/app/images/arrow-right.svg" alt="arrow right icon" width="20px" height="20px">\n                        </button>\n                    </div>\n                </article>\n            `}));const o=document.querySelector(".shop__container");o&&o.insertAdjacentHTML("beforeend",t)}}document.addEventListener("DOMContentLoaded",(()=>{const e=new ShopBoots,t=new Shop;e.getShopBoots().then((e=>{t.displayShopBoots(e)}))}));class Boots{async getBoots(){try{const e=await fetch("/data/women-data/boots.json");return await e.json()}catch(e){console.log(e)}}displayWomeBoots(e){let t="";e.forEach((e=>{t+=`\n                <article class="women__boot">\n                    <img src="${e.image}" alt="sale boot" class="women__boot-img">\n                    <div class="women__boot-data">\n                        <h4 class="boot__name">${e.name}</h4>\n                        <span class="boot__price">${e.price}</span>\n                        <p class="boot__description">\n                            The embodiment of iconic <br/> Dr Martens Footwear   \n                        </p>\n                        <button class="button-light">\n                            Add to cart <img src="/app/images/arrow-right.svg" alt="arrow right icon" width="20px" height="20px">\n                        </button>\n                    </div>\n                </article>\n            `}));const o=document.querySelector(".women__container");o&&o.insertAdjacentHTML("beforeend",t)}}(async()=>{const e=new Boots,t=await e.getBoots();e.displayWomeBoots(t)})();const toggleSearch=()=>{const e=document.querySelector(".nav__search-form"),t=document.querySelector(".nav__search"),o=document.querySelector(".close-search"),n=document.getElementById("search-input");e&&(t.addEventListener("click",(()=>{e.classList.toggle("active-form")})),o.addEventListener("click",(()=>{e.classList.remove("active-form"),n.value=""})))};function filterSearch(){const e=document.getElementById("search-input").value.toLowerCase();document.querySelectorAll("section").forEach((t=>{e&&t.id.toString().toLowerCase().indexOf(e)>-1&&document.getElementById(t.id).scrollIntoView()}))}const openMenu=()=>{const e=document.getElementById("nav-toggle"),t=document.getElementById("nav-menu"),o=document.querySelector(".nav__search-form");e.addEventListener("click",(()=>{t.classList.add("show"),function(){if(o.classList.contains("active-form"))o.classList.remove("active-form")}()}))},closeMenu=()=>{const e=document.getElementById("nav-close"),t=document.getElementById("nav-menu");e&&e.addEventListener("click",(()=>{t.classList.remove("show")}))};window.onscroll=()=>{const e=document.getElementById("header");this.scrollY>=30?e.classList.add("scroll-header"):e.classList.remove("scroll-header")};const toggleCart=()=>{const e=document.querySelector(".cart__overlay"),t=document.querySelector(".cart"),o=document.querySelectorAll(".nav__shop"),n=document.querySelector(".cart__close");o.forEach((o=>{o.addEventListener("click",(()=>{e&&e.classList.add("show-overlay"),t&&t.classList.add("show-cart")}))})),n&&n.addEventListener("click",(()=>{t.classList.remove("show-cart"),e.classList.remove("show-overlay")}))};openMenu(),closeMenu(),toggleSearch(),toggleCart();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXlOYXZsaW5rcy5qcyIsImRpc3BsYXlTaG9wLmpzIiwiZGlzcGxheVdvbWVuQm9vdHMuanMiLCJmaWx0ZXJTZWFyY2guanMiLCJpbmRleC5qcyJdLCJuYW1lcyI6WyJkb21FbGVtZW50cyIsIm5hdkxpc3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZNZW51IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbG9zZU1vYk1lbnUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJOYXZMaW5rcyIsImdldExpbmtzIiwiYXN5bmMiLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImRpc3BsYXlMaW5rcyIsImxpbmtzIiwicmVzdWx0IiwiZm9yRWFjaCIsImxpbmsiLCJ0ZXh0IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwibmF2TGlua3MiLCJTaG9wQm9vdHMiLCJkYXRhIiwibG9nIiwiU2hvcCIsImRpc3BsYXlTaG9wQm9vdHMiLCJzaG9wQm9vdHMiLCJib290IiwiaW1hZ2UiLCJuYW1lIiwicHJpY2UiLCJzaG9wQ29udGFpbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvb3RzIiwic2hvcCIsImdldFNob3BCb290cyIsInRoZW4iLCJCb290cyIsImRpc3BsYXlXb21lQm9vdHMiLCJjb250YWluZXIiLCJ3b21lbkJvb3RzIiwiZ2V0Qm9vdHMiLCJ0b2dnbGVTZWFyY2giLCJuYXZTZWFyY2hGb3JtIiwibmF2U2VhcmNoIiwiY2xvc2VTZWFyY2giLCJpbnB1dCIsInRvZ2dsZSIsInZhbHVlIiwiZmlsdGVyU2VhcmNoIiwic2VhcmNoVGVybSIsInRvTG93ZXJDYXNlIiwicXVlcnlTZWxlY3RvckFsbCIsInNlY3Rpb24iLCJpZCIsInRvU3RyaW5nIiwiaW5kZXhPZiIsInNjcm9sbEludG9WaWV3Iiwib3Blbk1lbnUiLCJuYXZUb2dnbGUiLCJhZGQiLCJjb250YWlucyIsImNsb3NlU2VhcmNoRm9ybSIsImNsb3NlTWVudSIsImNsb3NlQnRuIiwid2luZG93Iiwib25zY3JvbGwiLCJoZWFkZXIiLCJ0aGlzIiwic2Nyb2xsWSIsInRvZ2dsZUNhcnQiLCJjYXJ0T3ZlcmxheSIsImNhcnQiLCJuYXZTaG9wIiwiY2FydENsb3NlIiwiYnRuIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLE1BQUFBLFlBQUEsS0FDQSxNQUFBQyxFQUFBQyxTQUFBQyxjQUFBLGNBQ0FDLEVBQUFGLFNBQUFHLGVBQUEsWUFNQSxNQUFBLENBQUFKLFVBQUFHLFVBQUFFLGFBTEEsS0FDQUYsR0FDQUEsRUFBQUcsVUFBQUMsT0FBQSxXQU1BLElBQUFQLFFBQUFBLFFBQUFHLFFBQUFBLFFBQUFFLGFBQUFBLGNBQUFOLGNBSUEsTUFBQVMsU0FDQUMsU0FBQUMsVUFDQSxJQUNBLE1BQUFDLFFBQUFDLE1BQUEsZ0NBRUEsYUFEQUQsRUFBQUUsT0FHQSxNQUFBQyxHQUNBQyxRQUFBRCxNQUFBQSxLQUlBRSxhQUFBQyxJQUNBLElBQUFDLEVBQUEsR0FDQUQsRUFBQUUsU0FBQUMsSUFDQUYsR0FBQSwwRUFFQUUsRUFBQUEsb0RBQUFBLEVBQUFDLG1EQUlBckIsU0FBQUEsUUFBQXNCLG1CQUFBLFlBQUFKLElBSUEsV0FDQSxNQUFBSyxFQUFBLElBQUFmLFNBQ0FTLFFBQUFNLEVBQUFkLFdBRUFjLEVBQUFQLGFBQUFDLElBSkEsR0MxQ0EsTUFBQU8sVUFDQWQscUJBQ0EsSUFDQSxNQUFBQyxRQUFBQyxNQUFBLDRCQUNBYSxRQUFBZCxFQUFBRSxPQUlBLE9BSEFZLEVBS0EsTUFBQVgsR0FDQUMsUUFBQVcsSUFBQVosS0FLQSxNQUFBYSxLQUNBQyxpQkFBQUMsR0FDQSxJQUFBWCxFQUFBLEdBQ0FXLEVBQUFWLFNBQUFXLElBQ0FaLEdBQUEsMkVBRUFZLEVBQUFDLDJJQUVBRCxFQUFBRSxnRUFDQUYsRUFBQUcsNmRBV0EsTUFBQUMsRUFBQWpDLFNBQUFDLGNBQUEsb0JBQ0FnQyxHQUNBQSxFQUFBWixtQkFBQSxZQUFBSixJQUtBakIsU0FBQWtDLGlCQUFBLG9CQUFBLEtBQ0EsTUFBQUMsRUFBQSxJQUFBWixVQUNBYSxFQUFBLElBQUFWLEtBRUFTLEVBQUFFLGVBQUFDLE1BQUFILElBQ0FDLEVBQUFULGlCQUFBUSxTQ2hEQSxNQUFBSSxNQUNBOUIsaUJBQ0EsSUFDQSxNQUFBQyxRQUFBQyxNQUFBLCtCQUdBLGFBRkFELEVBQUFFLE9BSUEsTUFBQUMsR0FDQUMsUUFBQVcsSUFBQVosSUFJQTJCLGlCQUFBTCxHQUNBLElBQUFsQixFQUFBLEdBQ0FrQixFQUFBakIsU0FBQVcsSUFDQVosR0FBQSxrRkFFQVksRUFBQUMsdUpBRUFELEVBQUFFLGdFQUNBRixFQUFBRyw2ZEFXQSxNQUFBUyxFQUFBekMsU0FBQUMsY0FBQSxxQkFDQXdDLEdBQ0FBLEVBQUFwQixtQkFBQSxZQUFBSixJQWtDQSxXQUNBLE1BQUF5QixFQUFBLElBQUFILE1BQ0FKLFFBQUFPLEVBQUFDLFdBRUFELEVBQUFGLGlCQUFBTCxJQUpBLEdDcEVBLE1BQUFTLGFBQUEsS0FDQSxNQUFBQyxFQUFBN0MsU0FBQUMsY0FBQSxxQkFDQTZDLEVBQUE5QyxTQUFBQyxjQUFBLGdCQUNBOEMsRUFBQS9DLFNBQUFDLGNBQUEsaUJBQ0ErQyxFQUFBaEQsU0FBQUcsZUFBQSxnQkFFQTBDLElBQ0FDLEVBQUFaLGlCQUFBLFNBQUEsS0FDQVcsRUFBQXhDLFVBQUE0QyxPQUFBLGtCQUVBRixFQUFBYixpQkFBQSxTQUFBLEtBQ0FXLEVBQUF4QyxVQUFBQyxPQUFBLGVBQ0EwQyxFQUFBRSxNQUFBLFFBS0EsU0FBQUMsZUFDQSxNQUNBQyxFQURBcEQsU0FBQUcsZUFBQSxnQkFDQStDLE1BQUFHLGNBQ0FyRCxTQUFBc0QsaUJBQUEsV0FFQXBDLFNBQUFxQyxJQUNBSCxHQUFBRyxFQUFBQyxHQUFBQyxXQUFBSixjQUFBSyxRQUFBTixJQUFBLEdBQ0FwRCxTQUFBRyxlQUFBb0QsRUFBQUMsSUFBQUcsb0JDeEJBLE1BQUFDLFNBQUEsS0FDQSxNQUFBQyxFQUFBN0QsU0FBQUcsZUFBQSxjQUNBRCxFQUFBRixTQUFBRyxlQUFBLFlBQ0EwQyxFQUFBN0MsU0FBQUMsY0FBQSxxQkFFQTRELEVBQUEzQixpQkFBQSxTQUFBLEtBQ0FoQyxFQUFBRyxVQUFBeUQsSUFBQSxRQUlBLFdBQ0EsR0FBQWpCLEVBQUF4QyxVQUFBMEQsU0FBQSxlQUNBbEIsRUFBQXhDLFVBQUFDLE9BQUEsZUFMQTBELE9BVUFDLFVBQUEsS0FDQSxNQUFBQyxFQUFBbEUsU0FBQUcsZUFBQSxhQUNBRCxFQUFBRixTQUFBRyxlQUFBLFlBRUErRCxHQUNBQSxFQUFBaEMsaUJBQUEsU0FBQSxLQUNBaEMsRUFBQUcsVUFBQUMsT0FBQSxZQUtBNkQsT0FBQUMsU0FBQSxLQUNBLE1BQUFDLEVBQUFyRSxTQUFBRyxlQUFBLFVBQ0FtRSxLQUFBQyxTQUFBLEdBQ0FGLEVBQUFoRSxVQUFBeUQsSUFBQSxpQkFHQU8sRUFBQWhFLFVBQUFDLE9BQUEsa0JBSUEsTUFBQWtFLFdBQUEsS0FDQSxNQUFBQyxFQUFBekUsU0FBQUMsY0FBQSxrQkFDQXlFLEVBQUExRSxTQUFBQyxjQUFBLFNBQ0EwRSxFQUFBM0UsU0FBQXNELGlCQUFBLGNBQ0FzQixFQUFBNUUsU0FBQUMsY0FBQSxnQkFFQTBFLEVBQUF6RCxTQUFBMkQsSUFDQUEsRUFBQTNDLGlCQUFBLFNBQUEsS0FDQXVDLEdBQUFBLEVBQUFwRSxVQUFBeUQsSUFBQSxnQkFDQVksR0FBQUEsRUFBQXJFLFVBQUF5RCxJQUFBLG1CQUlBYyxHQUNBQSxFQUFBMUMsaUJBQUEsU0FBQSxLQUNBd0MsRUFBQXJFLFVBQUFDLE9BQUEsYUFDQW1FLEVBQUFwRSxVQUFBQyxPQUFBLG9CQU1Bc0QsV0FDQUssWUFDQXJCLGVBQ0E0QiIsImZpbGUiOiJhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxyXG5cclxuY29uc3QgZG9tRWxlbWVudHMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3RcIilcclxuICAgIGNvbnN0IG5hdk1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdi1tZW51XCIpXHJcbiAgICBjb25zdCBjbG9zZU1vYk1lbnUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKG5hdk1lbnUpIHtcclxuICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4geyBuYXZMaXN0LCBuYXZNZW51LCBjbG9zZU1vYk1lbnUgfVxyXG59O1xyXG5cclxubGV0IHsgbmF2TGlzdCwgbmF2TWVudSwgY2xvc2VNb2JNZW51IH0gPSBkb21FbGVtZW50cygpXHJcblxyXG5cclxuXHJcbmNsYXNzIE5hdkxpbmtzIHtcclxuICAgIGdldExpbmtzID0gYXN5bmMgKCkgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9kYXRhL25hdi1kYXRhL25hdmxpbmtzLmpzb25cIilcclxuICAgICAgICAgICAgY29uc3QgbGlua3MgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmtzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheUxpbmtzID0gbGlua3MgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXZfX2l0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtsaW5rLmxpbmt9XCIgY2xhc3M9XCJuYXZfX2xpbmtcIiBvbmNsaWNrPVwiY2xvc2VNb2JNZW51KClcIj4ke2xpbmsudGV4dH08L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKG5hdkxpc3QpIG5hdkxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHJlc3VsdClcclxuICAgIH07XHJcbn07XHJcblxyXG4oYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbmF2TGlua3MgPSBuZXcgTmF2TGlua3MoKVxyXG4gICAgY29uc3QgbGlua3MgPSBhd2FpdCBuYXZMaW5rcy5nZXRMaW5rcygpXHJcblxyXG4gICAgbmF2TGlua3MuZGlzcGxheUxpbmtzKGxpbmtzKVxyXG59KSgpO1xyXG4iLCJjbGFzcyBTaG9wQm9vdHMge1xyXG4gICAgYXN5bmMgZ2V0U2hvcEJvb3RzKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJkYXRhL3Nob3AtZGF0YS9zaG9wLmpzb25cIilcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgICBjb25zdCBzaG9wQm9vdHMgPSBkYXRhO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaG9wQm9vdHMpXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2hvcEJvb3RzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5jbGFzcyBTaG9wIHtcclxuICAgIGRpc3BsYXlTaG9wQm9vdHMoc2hvcEJvb3RzKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgc2hvcEJvb3RzLmZvckVhY2goYm9vdCA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXHJcbiAgICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cImJvb3RcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7Ym9vdC5pbWFnZX1cIiBhbHQ9XCJzYWxlIGJvb3RcIiBjbGFzcz1cImJvb3RfX2ltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib290X19kYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImJvb3RfX25hbWVcIj4ke2Jvb3QubmFtZX08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJvb3RfX3ByaWNlXCI+JHtib290LnByaWNlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJib290X19kZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGVtYm9kaW1lbnQgb2YgaWNvbmljIDxici8+IERyIE1hcnRlbnMgRm9vdHdlYXIgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uLWxpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgdG8gY2FydCA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL2Fycm93LXJpZ2h0LnN2Z1wiIGFsdD1cImFycm93IHJpZ2h0IGljb25cIiB3aWR0aD1cIjIwcHhcIiBoZWlnaHQ9XCIyMHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9hcnRpY2xlPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2hvcENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcF9fY29udGFpbmVyXCIpXHJcbiAgICAgICAgaWYgKHNob3BDb250YWluZXIpIHtcclxuICAgICAgICAgICAgc2hvcENvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgcmVzdWx0KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgYm9vdHMgPSBuZXcgU2hvcEJvb3RzKClcclxuICAgIGNvbnN0IHNob3AgPSBuZXcgU2hvcCgpXHJcblxyXG4gICAgYm9vdHMuZ2V0U2hvcEJvb3RzKCkudGhlbihib290cyA9PiB7XHJcbiAgICAgICAgc2hvcC5kaXNwbGF5U2hvcEJvb3RzKGJvb3RzKVxyXG4gICAgfSlcclxufSkiLCJjbGFzcyBCb290cyB7XHJcbiAgICBhc3luYyBnZXRCb290cygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2RhdGEvd29tZW4tZGF0YS9ib290cy5qc29uXCIpXHJcbiAgICAgICAgICAgIGNvbnN0IGJvb3RzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJvb3RzKVxyXG4gICAgICAgICAgICByZXR1cm4gYm9vdHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRpc3BsYXlXb21lQm9vdHMoYm9vdHMpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICBib290cy5mb3JFYWNoKGJvb3QgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9XCJ3b21lbl9fYm9vdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtib290LmltYWdlfVwiIGFsdD1cInNhbGUgYm9vdFwiIGNsYXNzPVwid29tZW5fX2Jvb3QtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndvbWVuX19ib290LWRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiYm9vdF9fbmFtZVwiPiR7Ym9vdC5uYW1lfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYm9vdF9fcHJpY2VcIj4ke2Jvb3QucHJpY2V9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImJvb3RfX2Rlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgZW1ib2RpbWVudCBvZiBpY29uaWMgPGJyLz4gRHIgTWFydGVucyBGb290d2VhciAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24tbGlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFkZCB0byBjYXJ0IDxpbWcgc3JjPVwiL2FwcC9pbWFnZXMvYXJyb3ctcmlnaHQuc3ZnXCIgYWx0PVwiYXJyb3cgcmlnaHQgaWNvblwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2FydGljbGU+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53b21lbl9fY29udGFpbmVyXCIpXHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHJlc3VsdClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmV0dXJuIGJvb3RzO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gY2xhc3Mgd29tZW5VSSB7XHJcbi8vICAgICBkaXNwbGF5V29tZUJvb3RzKGJvb3RzKSB7XHJcbi8vICAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbi8vICAgICAgICAgYm9vdHMuZm9yRWFjaChib290ID0+IHtcclxuLy8gICAgICAgICAgICAgcmVzdWx0ICs9IGBcclxuLy8gICAgICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPVwid29tZW5fX2Jvb3RcIj5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7Ym9vdC5pbWFnZX1cIiBhbHQ9XCJzYWxlIGJvb3RcIiBjbGFzcz1cIndvbWVuX19ib290LWltZ1wiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3b21lbl9fYm9vdC1kYXRhXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImJvb3RfX25hbWVcIj4ke2Jvb3QubmFtZX08L2g0PlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJvb3RfX3ByaWNlXCI+JHtib290LnByaWNlfTwvc3Bhbj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJib290X19kZXNjcmlwdGlvblwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGVtYm9kaW1lbnQgb2YgaWNvbmljIDxici8+IERyIE1hcnRlbnMgRm9vdHdlYXJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uLWxpZ2h0XCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgdG8gY2FydCA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL2Fycm93LXJpZ2h0LnN2Z1wiIGFsdD1cImFycm93IHJpZ2h0IGljb25cIiB3aWR0aD1cIjIwcHhcIiBoZWlnaHQ9XCIyMHB4XCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICAgICAgPC9hcnRpY2xlPlxyXG4vLyAgICAgICAgICAgICBgO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud29tZW5fX2NvbnRhaW5lclwiKVxyXG4vLyAgICAgICAgIGlmIChjb250YWluZXIpIHtcclxuLy8gICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCByZXN1bHQpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiBib290cztcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHdvbWVuQm9vdHMgPSBuZXcgQm9vdHMoKVxyXG4gICAgY29uc3QgYm9vdHMgPSBhd2FpdCB3b21lbkJvb3RzLmdldEJvb3RzKClcclxuXHJcbiAgICB3b21lbkJvb3RzLmRpc3BsYXlXb21lQm9vdHMoYm9vdHMpXHJcbn0pKCk7XHJcblxyXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbi8vICAgICBjb25zdCB3b21hblVpID0gbmV3IHdvbWVuVUkoKVxyXG4vLyAgICAgY29uc3QgYm9vdHMgPSBuZXcgQm9vdHMoKVxyXG5cclxuLy8gICAgIGJvb3RzLmdldEJvb3RzKCkudGhlbihib290cyA9PiB7XHJcbi8vICAgICAgICAgd29tYW5VaS5kaXNwbGF5V29tZUJvb3RzKGJvb3RzKVxyXG4vLyAgICAgfSlcclxuLy8gfSkiLCJjb25zdCB0b2dnbGVTZWFyY2ggPSAoKSA9PiB7XHJcbiAgICBjb25zdCBuYXZTZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX3NlYXJjaC1mb3JtXCIpXHJcbiAgICBjb25zdCBuYXZTZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fc2VhcmNoXCIpXHJcbiAgICBjb25zdCBjbG9zZVNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2Utc2VhcmNoXCIpXHJcblx0Y29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1pbnB1dFwiKTtcclxuXHJcblx0aWYobmF2U2VhcmNoRm9ybSkge1xyXG5cdFx0bmF2U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2U2VhcmNoRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlLWZvcm1cIilcclxuICAgIH0pXHJcblx0XHRjbG9zZVNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHRuYXZTZWFyY2hGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtZm9ybVwiKVxyXG5cdFx0XHRpbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyU2VhcmNoKCkge1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1pbnB1dFwiKTtcclxuICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBpbnB1dC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VjdGlvblwiKTtcclxuXHJcbiAgICBzZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4geyAgIFxyXG4gICAgICAgIGlmIChzZWFyY2hUZXJtICYmIHNlY3Rpb24uaWQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoVGVybSkgPiAtMSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uLmlkKS5zY3JvbGxJbnRvVmlldygpXHJcbiAgICAgICAgfSBcclxuICAgIH0pXHJcbn07XHJcblxyXG5cclxuXHJcbiIsImNvbnN0IG9wZW5NZW51ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbmF2VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtdG9nZ2xlXCIpXHJcbiAgICBjb25zdCBuYXZNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtbWVudVwiKVxyXG4gICAgY29uc3QgbmF2U2VhcmNoRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19zZWFyY2gtZm9ybVwiKVxyXG5cclxuICAgIG5hdlRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG5hdk1lbnUuY2xhc3NMaXN0LmFkZChcInNob3dcIilcclxuICAgICAgICBjbG9zZVNlYXJjaEZvcm0oKVxyXG4gICAgfSlcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVNlYXJjaEZvcm0oKSB7XHJcbiAgICAgICAgaWYgKG5hdlNlYXJjaEZvcm0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWZvcm1cIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hdlNlYXJjaEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1mb3JtXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNZW51ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdi1jbG9zZVwiKVxyXG4gICAgY29uc3QgbmF2TWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LW1lbnVcIilcclxuXHJcbiAgICBpZiAoY2xvc2VCdG4pIHtcclxuICAgICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuYXZNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufTtcclxuXHJcbndpbmRvdy5vbnNjcm9sbCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpXHJcbiAgICBpZiAodGhpcy5zY3JvbGxZID49IDMwKSB7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGwtaGVhZGVyXCIpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcInNjcm9sbC1oZWFkZXJcIilcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUNhcnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydF9fb3ZlcmxheVwiKVxyXG4gICAgY29uc3QgY2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydFwiKVxyXG4gICAgY29uc3QgbmF2U2hvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2X19zaG9wXCIpXHJcbiAgICBjb25zdCBjYXJ0Q2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcnRfX2Nsb3NlXCIpXHJcblxyXG4gICAgbmF2U2hvcC5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGNhcnRPdmVybGF5KSBjYXJ0T3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwic2hvdy1vdmVybGF5XCIpXHJcbiAgICAgICAgICAgIGlmIChjYXJ0KSBjYXJ0LmNsYXNzTGlzdC5hZGQoXCJzaG93LWNhcnRcIilcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgaWYgKGNhcnRDbG9zZSkge1xyXG4gICAgICAgIGNhcnRDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJ0LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LWNhcnRcIilcclxuICAgICAgICAgICAgY2FydE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctb3ZlcmxheVwiKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn07XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgb3Blbk1lbnUoKVxyXG4gICAgY2xvc2VNZW51KClcclxuICAgIHRvZ2dsZVNlYXJjaCgpXHJcbiAgICB0b2dnbGVDYXJ0KClcclxufSkoKTtcclxuXHJcblxyXG4iXX0=
