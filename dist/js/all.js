class ShopBoots{async getShopBoots(){try{const e=await fetch("data/shop-data/shop.json"),t=await e.json();return t}catch(e){console.log(e)}}}class UI{displayShopBoots(e){let t="";e.forEach((e=>{t+=`\n                <article class="boot">\n                    <img src="${e.image}" alt="sale boot" class="boot__img">\n                    <div class="boot__data">\n                        <h4 class="boot__name">${e.name}</h4>\n                        <span class="boot__price">${e.price}</span>\n                        <p class="boot__description">\n                            The embodiment of iconic <br/> Dr Martens Footwear   \n                        </p>\n                        <button class="button-light">\n                            Add to cart <img src="/app/images/arrow-right.svg" alt="arrow right icon" width="20px" height="20px">\n                        </button>\n                    </div>\n                </article>\n            `}));const o=document.querySelector(".shop__container");o&&o.insertAdjacentHTML("beforeend",t)}}document.addEventListener("DOMContentLoaded",(()=>{const e=new ShopBoots,t=new UI;e.getShopBoots().then((e=>{t.displayShopBoots(e)}))}));class Boots{async getBoots(){try{const e=await fetch("/data/women-data/boots.json");return await e.json()}catch(e){console.log(e)}}}class Shop{displayWomeBoots(e){let t="";e.forEach((e=>{t+=`\n                <article class="women__boot">\n                    <img src="${e.image}" alt="sale boot" class="women__boot-img">\n                    <div class="women__boot-data">\n                        <h4 class="boot__name">${e.name}</h4>\n                        <span class="boot__price">${e.price}</span>\n                        <p class="boot__description">\n                            The embodiment of iconic <br/> Dr Martens Footwear   \n                        </p>\n                        <button class="button-light">\n                            Add to cart <img src="/app/images/arrow-right.svg" alt="arrow right icon" width="20px" height="20px">\n                        </button>\n                    </div>\n                </article>\n            `}));const o=document.querySelector(".women__container");return o&&o.insertAdjacentHTML("beforeend",t),e}}document.addEventListener("DOMContentLoaded",(()=>{const e=new Shop;(new Boots).getBoots().then((t=>{e.displayWomeBoots(t)}))}));const toggleSearch=()=>{const e=document.querySelector(".nav__search-form"),t=document.querySelector(".nav__search"),o=document.querySelector(".close-search"),n=document.getElementById("search-input");e&&(t.addEventListener("click",(()=>{e.classList.toggle("active-form")})),o.addEventListener("click",(()=>{e.classList.remove("active-form"),n.value=""})))};function filterSearch(){const e=document.getElementById("search-input").value.toLowerCase();document.querySelectorAll("section").forEach((t=>{e&&t.id.toString().toLowerCase().indexOf(e)>-1&&document.getElementById(t.id).scrollIntoView()}))}const openMenu=()=>{const e=document.getElementById("nav-toggle"),t=document.getElementById("nav-menu"),o=document.querySelector(".nav__search-form");e.addEventListener("click",(()=>{t.classList.add("show"),function(){if(o.classList.contains("active-form"))o.classList.remove("active-form")}()}))},closeMenu=()=>{const e=document.getElementById("nav-close"),t=document.getElementById("nav-menu"),o=[...document.querySelectorAll(".nav__link")];e&&o&&(e.addEventListener("click",(()=>{t.classList.remove("show")})),o.forEach((e=>{e.addEventListener("click",(()=>{t.classList.remove("show")}))})))};window.onscroll=()=>{const e=document.getElementById("header");this.scrollY>=30?e.classList.add("scroll-header"):e.classList.remove("scroll-header")};const toggleCart=()=>{const e=document.querySelector(".cart__overlay"),t=document.querySelector(".cart"),o=document.querySelectorAll(".nav__shop"),n=document.querySelector(".cart__close");o.forEach((o=>{o.addEventListener("click",(()=>{e&&e.classList.add("show-overlay"),t&&t.classList.add("show-cart")}))})),n&&n.addEventListener("click",(()=>{t.classList.remove("show-cart"),e.classList.remove("show-overlay")}))};openMenu(),closeMenu(),toggleSearch(),toggleCart();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXlTaG9wLmpzIiwiZGlzcGxheVdvbWVCb290cy5qcyIsImZpbHRlclNlYXJjaC5qcyIsImluZGV4LmpzIl0sIm5hbWVzIjpbIlNob3BCb290cyIsImFzeW5jIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiVUkiLCJkaXNwbGF5U2hvcEJvb3RzIiwic2hvcEJvb3RzIiwicmVzdWx0IiwiZm9yRWFjaCIsImJvb3QiLCJpbWFnZSIsIm5hbWUiLCJwcmljZSIsInNob3BDb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9vdHMiLCJ1aSIsImdldFNob3BCb290cyIsInRoZW4iLCJCb290cyIsIlNob3AiLCJkaXNwbGF5V29tZUJvb3RzIiwiY29udGFpbmVyIiwic2hvcCIsImdldEJvb3RzIiwidG9nZ2xlU2VhcmNoIiwibmF2U2VhcmNoRm9ybSIsIm5hdlNlYXJjaCIsImNsb3NlU2VhcmNoIiwiaW5wdXQiLCJnZXRFbGVtZW50QnlJZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsInZhbHVlIiwiZmlsdGVyU2VhcmNoIiwic2VhcmNoVGVybSIsInRvTG93ZXJDYXNlIiwicXVlcnlTZWxlY3RvckFsbCIsInNlY3Rpb24iLCJpZCIsInRvU3RyaW5nIiwiaW5kZXhPZiIsInNjcm9sbEludG9WaWV3Iiwib3Blbk1lbnUiLCJuYXZUb2dnbGUiLCJuYXZNZW51IiwiYWRkIiwiY29udGFpbnMiLCJjbG9zZVNlYXJjaEZvcm0iLCJjbG9zZU1lbnUiLCJjbG9zZUJ0biIsIm5hdkxpbmtzIiwibGluayIsIndpbmRvdyIsIm9uc2Nyb2xsIiwiaGVhZGVyIiwidGhpcyIsInNjcm9sbFkiLCJ0b2dnbGVDYXJ0IiwiY2FydE92ZXJsYXkiLCJjYXJ0IiwibmF2U2hvcCIsImNhcnRDbG9zZSIsImJ0biJdLCJt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QWtELEVBQUFuRCxTQUFBMkIsaUJBQUEsY0FDQXlCLEVBQUFwRCxTQUFBQyxjQUFBLGdCQUVBa0QsRUFBQXpELFNBQUEyRCxJQUNBQSxFQUFBbEQsaUJBQUEsU0FBQSxLQUNBOEMsR0FBQUEsRUFBQTdCLFVBQUFnQixJQUFBLGdCQUNBYyxHQUFBQSxFQUFBOUIsVUFBQWdCLElBQUEsbUJBSUFnQixHQUNBQSxFQUFBakQsaUJBQUEsU0FBQSxLQUNBK0MsRUFBQTlCLFVBQUFFLE9BQUEsYUFDQTJCLEVBQUE3QixVQUFBRSxPQUFBLG9CQU1BVyxXQUNBTSxZQUNBekIsZUFDQWtDIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFNob3BCb290cyB7XHJcbiAgICBhc3luYyBnZXRTaG9wQm9vdHMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImRhdGEvc2hvcC1kYXRhL3Nob3AuanNvblwiKVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3BCb290cyA9IGRhdGE7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNob3BCb290cylcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzaG9wQm9vdHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmNsYXNzIFVJIHtcclxuICAgIGRpc3BsYXlTaG9wQm9vdHMoc2hvcEJvb3RzKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgc2hvcEJvb3RzLmZvckVhY2goYm9vdCA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXHJcbiAgICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cImJvb3RcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7Ym9vdC5pbWFnZX1cIiBhbHQ9XCJzYWxlIGJvb3RcIiBjbGFzcz1cImJvb3RfX2ltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib290X19kYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImJvb3RfX25hbWVcIj4ke2Jvb3QubmFtZX08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJvb3RfX3ByaWNlXCI+JHtib290LnByaWNlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJib290X19kZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGVtYm9kaW1lbnQgb2YgaWNvbmljIDxici8+IERyIE1hcnRlbnMgRm9vdHdlYXIgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uLWxpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgdG8gY2FydCA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL2Fycm93LXJpZ2h0LnN2Z1wiIGFsdD1cImFycm93IHJpZ2h0IGljb25cIiB3aWR0aD1cIjIwcHhcIiBoZWlnaHQ9XCIyMHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9hcnRpY2xlPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2hvcENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcF9fY29udGFpbmVyXCIpXHJcbiAgICAgICAgaWYgKHNob3BDb250YWluZXIpIHtcclxuICAgICAgICAgICAgc2hvcENvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgcmVzdWx0KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgYm9vdHMgPSBuZXcgU2hvcEJvb3RzKClcclxuICAgIGNvbnN0IHVpID0gbmV3IFVJKClcclxuXHJcbiAgICBib290cy5nZXRTaG9wQm9vdHMoKS50aGVuKGJvb3RzID0+IHtcclxuICAgICAgICB1aS5kaXNwbGF5U2hvcEJvb3RzKGJvb3RzKVxyXG4gICAgfSlcclxufSkiLCJjbGFzcyBCb290cyB7XHJcbiAgICBhc3luYyBnZXRCb290cygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2RhdGEvd29tZW4tZGF0YS9ib290cy5qc29uXCIpXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgICAgICAgbGV0IGJvb3RzID0gZGF0YTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYm9vdHMpXHJcbiAgICAgICAgICAgIHJldHVybiBib290cztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmNsYXNzIFNob3Age1xyXG4gICAgZGlzcGxheVdvbWVCb290cyhib290cykge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGJvb3RzLmZvckVhY2goYm9vdCA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXHJcbiAgICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cIndvbWVuX19ib290XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2Jvb3QuaW1hZ2V9XCIgYWx0PVwic2FsZSBib290XCIgY2xhc3M9XCJ3b21lbl9fYm9vdC1pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid29tZW5fX2Jvb3QtZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJib290X19uYW1lXCI+JHtib290Lm5hbWV9PC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJib290X19wcmljZVwiPiR7Ym9vdC5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiYm9vdF9fZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBlbWJvZGltZW50IG9mIGljb25pYyA8YnIvPiBEciBNYXJ0ZW5zIEZvb3R3ZWFyICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbi1saWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIHRvIGNhcnQgPGltZyBzcmM9XCIvYXBwL2ltYWdlcy9hcnJvdy1yaWdodC5zdmdcIiBhbHQ9XCJhcnJvdyByaWdodCBpY29uXCIgd2lkdGg9XCIyMHB4XCIgaGVpZ2h0PVwiMjBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvYXJ0aWNsZT5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndvbWVuX19jb250YWluZXJcIilcclxuICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgcmVzdWx0KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYm9vdHM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgIGNvbnN0IHNob3AgPSBuZXcgU2hvcCgpXHJcbiAgICBjb25zdCBib290cyA9IG5ldyBCb290cygpXHJcblxyXG4gICAgYm9vdHMuZ2V0Qm9vdHMoKS50aGVuKGJvb3RzID0+IHtcclxuICAgICAgICBzaG9wLmRpc3BsYXlXb21lQm9vdHMoYm9vdHMpXHJcbiAgICB9KVxyXG59KSIsImNvbnN0IHRvZ2dsZVNlYXJjaCA9ICgpID0+IHtcclxuICAgIGNvbnN0IG5hdlNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fc2VhcmNoLWZvcm1cIilcclxuICAgIGNvbnN0IG5hdlNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19zZWFyY2hcIilcclxuICAgIGNvbnN0IGNsb3NlU2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZS1zZWFyY2hcIilcclxuXHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLWlucHV0XCIpO1xyXG5cclxuXHRpZihuYXZTZWFyY2hGb3JtKSB7XHJcblx0XHRuYXZTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBuYXZTZWFyY2hGb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmUtZm9ybVwiKVxyXG4gICAgfSlcclxuXHRcdGNsb3NlU2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRcdG5hdlNlYXJjaEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1mb3JtXCIpXHJcblx0XHRcdGlucHV0LnZhbHVlID0gXCJcIjtcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJTZWFyY2goKSB7XHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLWlucHV0XCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoVGVybSA9IGlucHV0LnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBzZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWN0aW9uXCIpO1xyXG5cclxuICAgIHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7ICAgXHJcbiAgICAgICAgaWYgKHNlYXJjaFRlcm0gJiYgc2VjdGlvbi5pZC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXJtKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb24uaWQpLnNjcm9sbEludG9WaWV3KClcclxuICAgICAgICB9IFxyXG4gICAgfSlcclxufTtcclxuXHJcblxyXG5cclxuIiwiY29uc3Qgb3Blbk1lbnUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBuYXZUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdi10b2dnbGVcIilcclxuICAgIGNvbnN0IG5hdk1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdi1tZW51XCIpXHJcbiAgICBjb25zdCBuYXZTZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX3NlYXJjaC1mb3JtXCIpXHJcblxyXG4gICAgbmF2VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKVxyXG4gICAgICAgIGNsb3NlU2VhcmNoRm9ybSgpXHJcbiAgICB9KVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlU2VhcmNoRm9ybSgpIHtcclxuICAgICAgICBpZiAobmF2U2VhcmNoRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtZm9ybVwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmF2U2VhcmNoRm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWZvcm1cIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU1lbnUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LWNsb3NlXCIpXHJcbiAgICBjb25zdCBuYXZNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtbWVudVwiKVxyXG4gICAgY29uc3QgbmF2TGlua3MgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIildXHJcblxyXG4gICAgaWYgKGNsb3NlQnRuICYmIG5hdkxpbmtzKSB7XHJcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbmF2TGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5vbnNjcm9sbCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpXHJcbiAgICBpZiAodGhpcy5zY3JvbGxZID49IDMwKSB7XHJcbiAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGwtaGVhZGVyXCIpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcInNjcm9sbC1oZWFkZXJcIilcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUNhcnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydF9fb3ZlcmxheVwiKVxyXG4gICAgY29uc3QgY2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydFwiKVxyXG4gICAgY29uc3QgbmF2U2hvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2X19zaG9wXCIpXHJcbiAgICBjb25zdCBjYXJ0Q2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcnRfX2Nsb3NlXCIpXHJcblxyXG4gICAgbmF2U2hvcC5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGNhcnRPdmVybGF5KSBjYXJ0T3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwic2hvdy1vdmVybGF5XCIpXHJcbiAgICAgICAgICAgIGlmIChjYXJ0KSBjYXJ0LmNsYXNzTGlzdC5hZGQoXCJzaG93LWNhcnRcIilcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgaWYgKGNhcnRDbG9zZSkge1xyXG4gICAgICAgIGNhcnRDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJ0LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LWNhcnRcIilcclxuICAgICAgICAgICAgY2FydE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctb3ZlcmxheVwiKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn07XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgb3Blbk1lbnUoKVxyXG4gICAgY2xvc2VNZW51KClcclxuICAgIHRvZ2dsZVNlYXJjaCgpXHJcbiAgICB0b2dnbGVDYXJ0KClcclxufSkoKTtcclxuXHJcblxyXG4iXX0=
